<div class="list-container" *ngIf="productsList$ | async as productList">
  <strong>Wybierz widok: </strong>
  <dx-select-box [(value)]="selectedView" [dataSource]="viewOptions" displayExpr="text" valueExpr="id" width="145px">
  </dx-select-box>
  <!-- list view -->
  <dx-list class="product-list" *ngIf="selectedView === 'list'" [items]="productList">
    <div class="product-list-item" *dxTemplate="let item of 'item'" (click)="navigateToProduct(item.productId)">
      <div class="product-image">
        <div class="product-image-text">{{item.productNameShortcut}}</div>
      </div>
      <div class="product-left-box">
        <span class="product-name">{{ item.productName }}</span>
        <span class="product-code">kod produktu: {{item.productCode}}</span>

        <div class="product-buttons">
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" class="fav-button"
            stroke="currentColor" width="32" height="32">
            <path stroke-linecap="round" stroke-linejoin="round"
              d="M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12z" />
          </svg>
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
            class="compare-button" stroke="currentColor" width="32" height="32">
            <path stroke-linecap="round" stroke-linejoin="round"
              d="M12 3v17.25m0 0c-1.472 0-2.882.265-4.185.75M12 20.25c1.472 0 2.882.265 4.185.75M18.75 4.97A48.416 48.416 0 0012 4.5c-2.291 0-4.545.16-6.75.47m13.5 0c1.01.143 2.01.317 3 .52m-3-.52l2.62 10.726c.122.499-.106 1.028-.589 1.202a5.988 5.988 0 01-2.031.352 5.988 5.988 0 01-2.031-.352c-.483-.174-.711-.703-.59-1.202L18.75 4.971zm-16.5.52c.99-.203 1.99-.377 3-.52m0 0l2.62 10.726c.122.499-.106 1.028-.589 1.202a5.989 5.989 0 01-2.031.352 5.989 5.989 0 01-2.031-.352c-.483-.174-.711-.703-.59-1.202L5.25 4.971z" />
          </svg>
        </div>
      </div>
      <div class="product-right-box">
        cena: <span [ngStyle]="{'background-color': item.basePrice < 500 ? 'green' : 'orange'}" class="product-price">
          {{ item.basePrice }}
        </span>
        <dx-button class="add-to-cart" text="Dodaj do koszyka"></dx-button>
      </div>
    </div>


  </dx-list>

  <!-- tiles view -->
  <dx-tile-view *ngIf="selectedView === 'tiles'" class="tile-container" [dataSource]="productList" [itemMargin]="25"
    direction="vertical" itemTemplate="tile" height="100%" [baseItemHeight]="400" [baseItemWidth]="220">

    <div class="tile" *dxTemplate="let item of 'tile'">
      <p class="product-name"><b>{{item.productName}}</b></p>
      <span class="product-code">kod produktu: {{item.productCode}}</span>
      <div class="product-image">
        <div class="product-image-text">{{item.productNameShortcut}}</div>
      </div>

      <div class="product-buttons">

        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" class="fav-button"
          stroke="currentColor" width="32" height="32">
          <path stroke-linecap="round" stroke-linejoin="round"
            d="M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12z" />
        </svg>

        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
          class="compare-button" stroke="currentColor" width="32" height="32">
          <path stroke-linecap="round" stroke-linejoin="round"
            d="M12 3v17.25m0 0c-1.472 0-2.882.265-4.185.75M12 20.25c1.472 0 2.882.265 4.185.75M18.75 4.97A48.416 48.416 0 0012 4.5c-2.291 0-4.545.16-6.75.47m13.5 0c1.01.143 2.01.317 3 .52m-3-.52l2.62 10.726c.122.499-.106 1.028-.589 1.202a5.988 5.988 0 01-2.031.352 5.988 5.988 0 01-2.031-.352c-.483-.174-.711-.703-.59-1.202L18.75 4.971zm-16.5.52c.99-.203 1.99-.377 3-.52m0 0l2.62 10.726c.122.499-.106 1.028-.589 1.202a5.989 5.989 0 01-2.031.352 5.989 5.989 0 01-2.031-.352c-.483-.174-.711-.703-.59-1.202L5.25 4.971z" />
        </svg>
      </div>
      <div class="tile-bottom">
        cena: <span [ngStyle]="{'background-color': item.basePrice < 500 ? 'green' : 'orange'}" class="product-price">
          {{ item.basePrice }}
        </span>
        <dx-button class="add-to-cart" text="Dodaj do koszyka"></dx-button>
      </div>
    </div>
  </dx-tile-view>
</div>